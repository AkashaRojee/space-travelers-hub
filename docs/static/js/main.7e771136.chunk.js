(this["webpackJsonpspace-travelers-hub"]=this["webpackJsonpspace-travelers-hub"]||[]).push([[1],{66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n.n(i),c=n(18),r=n.n(c),a=n(4),o=n(20),d=n(3),u=n.p+"static/media/planet.a63017b2.svg",l=n(1),j=[{id:1,name:"Rockets",to:"/"},{id:2,name:"Dragons",to:"/dragons"},{id:3,name:"Missions",to:"/missions"},{id:4,name:"My profile",to:"/profile"}],b=function(){return Object(l.jsxs)("header",{children:[Object(l.jsx)("img",{src:u,alt:"Space Travelers' Hub Logo"}),Object(l.jsx)("h1",{children:"Space Travelers' Hub"}),Object(l.jsx)("nav",{children:j.map((function(e){var t=e.id,n=e.name,i=e.to;return Object(l.jsx)(o.b,{activeClassName:"active",exact:!0,to:i,children:n},t)}))})]})},f=n(12),p=n.n(f),O=n(15),h=n(13),m=n(21),v=n.n(m),x=Object(h.d)({name:"rockets",initialState:[],reducers:{add:function(e,t){e.push(t.payload)},reserve:function(e,t){e.find((function(e){return e.id===t.payload})).reserved=!0},cancel:function(e,t){e.find((function(e){return e.id===t.payload})).reserved=!1}}}),g=x.actions,y=g.add,k=g.reserve,M=g.cancel,S=x.reducer,w=s.a.lazy((function(){return n.e(0).then(n.bind(null,70))})),T=function(){var e=Object(a.c)((function(e){return e.rockets})),t=Object(a.b)();return Object(i.useEffect)((function(){0===e.length&&t(function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://api.spacexdata.com/v3/rockets");case 2:e.sent.data.forEach((function(e){t(y({id:e.rocket_id,title:e.rocket_name,description:e.description,image:e.flickr_images[0]}))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(l.jsx)(i.Suspense,{fallback:Object(l.jsx)("div",{children:"Loading..."}),children:Object(l.jsx)("div",{className:"rd-rows",children:e.map((function(e){var t=e.id,n=e.title,i=e.description,s=e.image,c=e.reserved,r=void 0!==c&&c;return Object(l.jsx)(w,{id:t,title:n,description:i,image:s,reserved:r,actions:{reserve:k,cancel:M}},t)}))})})},C=n(35),L=n(10),N="api/requested",E="dragons/request",R="dragons/load",_="dragon/:id/reserve",F="dragon/:id/unreserve",I=function(){return function(e,t){return t().dragons.lastFetched?t():e({type:N,payload:{url:"https://api.spacexdata.com/v3/dragons",onStart:E,onSuccess:R}})}},J=function(e){return{type:_,payload:{id:e}}},D=function(e){return{type:F,payload:{id:e}}},B={list:[],isLoading:!1,lastFetched:null},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,n=t.type,i=t.payload;return n===E?Object(L.a)(Object(L.a)({},e),{},{isLoading:!0}):n===R?Object(L.a)(Object(L.a)({},e),{},{lastFetched:Date.now(),isLoading:!1,list:i.map((function(e){return{id:e.id,title:e.name,type:e.type,imgSrc:Object(C.a)(e.flickr_images,1)[0],isReserved:!1}}))}):n===_?Object(L.a)(Object(L.a)({},e),{},{list:e.list.map((function(e){return e.id===i.id?Object(L.a)(Object(L.a)({},e),{},{isReserved:!0}):e}))}):n===F?Object(L.a)(Object(L.a)({},e),{},{list:e.list.map((function(e){return e.id===i.id?Object(L.a)(Object(L.a)({},e),{},{isReserved:!1}):e}))}):e},z=s.a.lazy((function(){return n.e(0).then(n.bind(null,70))})),A=function(){var e=Object(a.c)((function(e){return e.dragons})).list,t=Object(a.b)();return Object(i.useEffect)((function(){t(I())}),[]),Object(l.jsx)(i.Suspense,{fallback:Object(l.jsx)("div",{children:"Loading..."}),children:Object(l.jsx)("div",{className:"rd-rows",children:e.map((function(e){var t=e.id,n=e.title,i=e.type,s=e.isReserved,c=e.imgSrc;return Object(l.jsx)(z,{id:t,title:n,description:"Type: ".concat(i),image:c,reserved:s,actions:{reserve:J,cancel:D}},t)}))})})},H=function(){return Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Missions"}),Object(l.jsx)("th",{children:"Descripition"}),Object(l.jsx)("th",{children:"Status"}),Object(l.jsx)("th",{"aria-label":"Leave/Join Mission"})]})})},P=function(e){var t=e.missions,n=e.onJoinMission;return Object(l.jsx)("tbody",{children:t.map((function(e){var t=e.mission_id,i=e.mission_name,s=e.description,c=e.joined;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:i}),Object(l.jsx)("td",{children:s}),Object(l.jsx)("td",{children:Object(l.jsx)("span",{className:"".concat(c?"joined":""),children:c?"Active Member":"NOT A MEMBER"})}),Object(l.jsx)("td",{children:Object(l.jsx)("button",{type:"button",className:"".concat(c?"joined":""),onClick:function(){return n(t,c)},children:c?"Leave Mission":"Join Mission"})})]},t)}))})},G=n(26),U=Object(h.c)("/missions/getMissions",Object(O.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://api.spacexdata.com/v3/missions");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),K=Object(h.b)("joinMission"),Q=Object(h.b)("leaveMission"),V=Object(h.d)({name:"missons",initialState:{missions:[],status:null},extraReducers:function(e){e.addCase(U.pending,(function(e){e.status="loading"})),e.addCase(U.fulfilled,(function(e,t){e.missions=t.payload,e.status="success"})),e.addCase(U.rejected,(function(e){e.status="failed"})),e.addCase(K,(function(e,t){Object(G.a)(e.missions).find((function(e){return e.mission_id===t.payload})).joined=!0})),e.addCase(Q,(function(e,t){Object(G.a)(e.missions).find((function(e){return e.mission_id===t.payload})).joined=!1}))}}).reducer,W=(n(66),function(){var e=Object(a.c)((function(e){return e})).missions.missions,t=Object(a.b)();Object(i.useEffect)((function(){0===e.length&&t(U())}),[]);return Object(l.jsx)("section",{className:"missions-section",children:Object(l.jsxs)("table",{className:"mission-table",children:[Object(l.jsx)(H,{}),Object(l.jsx)(P,{onJoinMission:function(e,n){t(n?Q(e):K(e))},missions:e})]})})}),X=function(e){var t=e.columnTitle,n=e.reservedItems;return Object(l.jsxs)("div",{className:"profile-column",children:[Object(l.jsx)("h2",{children:t}),Object(l.jsx)("ul",{children:n.map((function(e){var t=e.title;return Object(l.jsx)("li",{children:t},t)}))})]})},Y=function(){var e=Object(a.c)((function(e){return e.rockets})),t=Object(a.c)((function(e){return e.dragons})).list,n=Object(a.c)((function(e){return e})).missions.missions.filter((function(e){return!0===e.joined})).map((function(e){return{title:e.mission_name}}));return Object(l.jsxs)("div",{className:"profiles",children:[Object(l.jsx)(X,{columnTitle:"My Rockets",reservedItems:e.filter((function(e){return!0===e.reserved}))}),Object(l.jsx)(X,{columnTitle:"My Dragons",reservedItems:t.filter((function(e){return!0===e.isReserved}))}),Object(l.jsx)(X,{columnTitle:"My Missions",reservedItems:n})]})};n(67);var Z=function(){return Object(l.jsxs)(o.a,{basename:"/space-travelers-hub",children:[Object(l.jsx)(b,{}),Object(l.jsx)("main",{children:Object(l.jsxs)(d.c,{children:[Object(l.jsx)(d.a,{exact:!0,path:"/",children:Object(l.jsx)(T,{})}),Object(l.jsx)(d.a,{path:"/dragons",children:Object(l.jsx)(A,{})}),Object(l.jsx)(d.a,{path:"/missions",children:Object(l.jsx)(W,{})}),Object(l.jsx)(d.a,{path:"/profile",children:Object(l.jsx)(Y,{})})]})})]})},$=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,71)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),i(e),s(e),c(e),r(e)}))},ee=n(11),te=Object(ee.b)({dragons:q,rockets:S,missions:V}),ne=function(e){var t=e.dispatch;return function(e){return function(){var n=Object(O.a)(p.a.mark((function n(i){var s,c,r,a,o,d,u,l,j,b;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i.type===N){n.next=2;break}return n.abrupt("return",e(i));case 2:return e(i),s=i.payload,c=s.url,r=s.method,a=void 0===r?"GET":r,o=s.body,d=s.onStart,u=s.onSuccess,l=s.onError,d&&t({type:d}),n.prev=5,n.next=8,fetch(c,{method:a,body:o,headers:{"Content-type":"application/json; charset=UTF-8"}});case 8:return j=n.sent,n.next=11,j.json();case 11:b=n.sent,t({type:"api/success"}),u&&t({type:u,payload:b}),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(5),t({type:"api/fail"}),l&&t({type:l,payload:n.t0});case 20:return n.abrupt("return",null);case 21:case"end":return n.stop()}}),n,null,[[5,16]])})));return function(e){return n.apply(this,arguments)}}()}},ie=Object(h.a)({reducer:te,middleware:function(e){return e().concat(ne)}});r.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(a.a,{store:ie,children:Object(l.jsx)(Z,{})})}),document.getElementById("root")),$()}},[[68,2,3]]]);
//# sourceMappingURL=main.7e771136.chunk.js.map