(this["webpackJsonpspace-travelers-hub"]=this["webpackJsonpspace-travelers-hub"]||[]).push([[1],{63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(15),a=n.n(i),s=n(11),o=n(17),d=n(3),u=n.p+"static/media/planet.a63017b2.svg",l=n(1),j=[{id:1,name:"Rockets",to:"/"},{id:2,name:"Dragons",to:"/dragons"},{id:3,name:"Missions",to:"/missions"},{id:4,name:"My profile",to:"/profile"}],b=function(){return Object(l.jsxs)("header",{children:[Object(l.jsx)("img",{src:u,alt:"Space Travelers' Hub Logo"}),Object(l.jsx)("h1",{children:"Space Travelers' Hub"}),Object(l.jsx)("nav",{children:j.map((function(e){var t=e.id,n=e.name,r=e.to;return Object(l.jsx)(o.b,{activeClassName:"active",exact:!0,to:r,children:n},t)}))})]})},p=n(13),f=n.n(p),h=n(18),v=n(19),O=n(33),m=n.n(O),x=Object(v.b)({name:"rockets",initialState:[],reducers:{add:function(e,t){e.push(t.payload)},reserve:function(e,t){e.find((function(e){return e.id===t.payload})).reserved=!0},cancel:function(e,t){e.find((function(e){return e.id===t.payload})).reserved=!1}}}),g=x.actions,y=g.add,k=g.reserve,S=g.cancel,T=x.reducer,w=c.a.lazy((function(){return n.e(0).then(n.bind(null,66))})),F=function(){var e=Object(s.c)((function(e){return e.rockets})),t=Object(s.b)();return Object(r.useEffect)((function(){0===e.length&&t(function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://api.spacexdata.com/v3/rockets");case 2:e.sent.data.forEach((function(e){t(y({id:e.rocket_id,title:e.rocket_name,description:e.description,image:e.flickr_images[0]}))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(l.jsx)(r.Suspense,{fallback:Object(l.jsx)("div",{children:"Loading..."}),children:Object(l.jsx)("div",{className:"rd-rows",children:e.map((function(e){var t=e.id,n=e.title,r=e.description,c=e.image,i=e.reserved,a=void 0!==i&&i;return Object(l.jsx)(w,{id:t,title:n,description:r,image:c,reserved:a,actions:{reserve:k,cancel:S}},t)}))})})},L=n(31),M=n(9),R="api/requested",E="dragons/request",I="dragons/load",C="dragon/:id/reserve",N="dragon/:id/unreserve",D=function(){return function(e,t){return t().dragons.lastFetched?t():e({type:R,payload:{url:"https://api.spacexdata.com/v3/dragons",onStart:E,onSuccess:I}})}},_=function(e){return{type:C,payload:{id:e}}},q=function(e){return{type:N,payload:{id:e}}},z={list:[],isLoading:!1,lastFetched:null},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===E?Object(M.a)(Object(M.a)({},e),{},{isLoading:!0}):n===I?Object(M.a)(Object(M.a)({},e),{},{lastFetched:Date.now(),isLoading:!1,list:r.map((function(e){return{id:e.id,title:e.name,type:e.type,imgSrc:Object(L.a)(e.flickr_images,1)[0],isReserved:!1}}))}):n===C?Object(M.a)(Object(M.a)({},e),{},{list:e.list.map((function(e){return e.id===r.id?Object(M.a)(Object(M.a)({},e),{},{isReserved:!0}):e}))}):n===N?Object(M.a)(Object(M.a)({},e),{},{list:e.list.map((function(e){return e.id===r.id?Object(M.a)(Object(M.a)({},e),{},{isReserved:!1}):e}))}):e},H=c.a.lazy((function(){return n.e(0).then(n.bind(null,66))})),J=function(){var e=Object(s.c)((function(e){return e.dragons})).list,t=Object(s.b)();return Object(r.useEffect)((function(){t(D())}),[]),Object(l.jsx)(r.Suspense,{fallback:Object(l.jsx)("div",{children:"Loading..."}),children:Object(l.jsx)("div",{className:"rd-rows",children:e.map((function(e){var t=e.id,n=e.title,r=e.type,c=e.isReserved,i=e.imgSrc;return Object(l.jsx)(H,{id:t,title:n,description:"Type: ".concat(r),image:i,reserved:c,actions:{reserve:_,cancel:q}},t)}))})})},P=function(){return Object(l.jsx)("p",{children:"missions"})},G=function(e){var t=e.columnTitle,n=e.reservedItems;return Object(l.jsxs)("div",{className:"profile-column",children:[Object(l.jsx)("h2",{children:t}),Object(l.jsx)("ul",{children:n.map((function(e){var t=e.title;return Object(l.jsx)("li",{children:t},t)}))})]})},U=function(){var e=Object(s.c)((function(e){return e.rockets})),t=Object(s.c)((function(e){return e.dragons})).list;return Object(l.jsxs)("div",{className:"profiles",children:[Object(l.jsx)(G,{columnTitle:"My Rockets",reservedItems:e.filter((function(e){return!0===e.reserved}))}),Object(l.jsx)(G,{columnTitle:"My Dragons",reservedItems:t.filter((function(e){return!0===e.isReserved}))}),Object(l.jsx)(G,{columnTitle:"My Missions",reservedItems:e.filter((function(e){return!0===e.reserved}))})]})};n(63);var A=function(){return Object(l.jsxs)(o.a,{basename:"/space-travelers-hub",children:[Object(l.jsx)(b,{}),Object(l.jsx)("main",{children:Object(l.jsxs)(d.c,{children:[Object(l.jsx)(d.a,{exact:!0,path:"/",children:Object(l.jsx)(F,{})}),Object(l.jsx)(d.a,{path:"/dragons",children:Object(l.jsx)(J,{})}),Object(l.jsx)(d.a,{path:"/missions",children:Object(l.jsx)(P,{})}),Object(l.jsx)(d.a,{path:"/profile",children:Object(l.jsx)(U,{})})]})})]})},K=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,67)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))},Q=n(10),V=Object(Q.b)({dragons:B,rockets:T}),W=function(e){var t=e.dispatch;return function(e){return function(){var n=Object(h.a)(f.a.mark((function n(r){var c,i,a,s,o,d,u,l,j,b;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.type===R){n.next=2;break}return n.abrupt("return",e(r));case 2:return e(r),c=r.payload,i=c.url,a=c.method,s=void 0===a?"GET":a,o=c.body,d=c.onStart,u=c.onSuccess,l=c.onError,d&&t({type:d}),n.prev=5,n.next=8,fetch(i,{method:s,body:o,headers:{"Content-type":"application/json; charset=UTF-8"}});case 8:return j=n.sent,n.next=11,j.json();case 11:b=n.sent,t({type:"api/success"}),u&&t({type:u,payload:b}),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(5),t({type:"api/fail"}),l&&t({type:l,payload:n.t0});case 20:return n.abrupt("return",null);case 21:case"end":return n.stop()}}),n,null,[[5,16]])})));return function(e){return n.apply(this,arguments)}}()}},X=Object(v.a)({reducer:V,middleware:function(e){return e().concat(W)}});a.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(s.a,{store:X,children:Object(l.jsx)(A,{})})}),document.getElementById("root")),K()}},[[64,2,3]]]);
//# sourceMappingURL=main.d1bf1dc8.chunk.js.map