(this["webpackJsonpspace-travelers-hub"]=this["webpackJsonpspace-travelers-hub"]||[]).push([[1],{32:function(e,t,n){e.exports={active:"Header_active__2Nig7"}},35:function(e,t,n){e.exports={profiles:"Profile_profiles__31APD"}},36:function(e,t,n){e.exports={"profile-column":"ProfileColumn_profile-column__3USkq"}},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(15),a=n.n(i),s=n(11),o=n(17),d=n(3),u=n.p+"static/media/planet.a63017b2.svg",l=n(32),j=n.n(l),p=n(1),b=[{id:1,name:"Rockets",to:"/"},{id:2,name:"Dragons",to:"/dragons"},{id:3,name:"Missions",to:"/missions"},{id:4,name:"My profile",to:"/profile"}],f=function(){return Object(p.jsxs)("header",{children:[Object(p.jsx)("img",{src:u,alt:"Space Travelers' Hub Logo"}),Object(p.jsx)("h1",{children:"Space Travelers' Hub"}),Object(p.jsx)("nav",{children:b.map((function(e){var t=e.id,n=e.name,r=e.to;return Object(p.jsx)(o.b,{activeClassName:j.a.active,exact:!0,to:r,children:n},t)}))})]})},v=n(13),h=n.n(v),O=n(18),m=n(19),x=n(34),g=n.n(x),y=Object(m.b)({name:"rockets",initialState:[],reducers:{add:function(e,t){e.push(t.payload)},reserve:function(e,t){e.find((function(e){return e.id===t.payload})).reserved=!0},cancel:function(e,t){e.find((function(e){return e.id===t.payload})).reserved=!1}}}),k=y.actions,S=k.add,_=k.reserve,T=k.cancel,w=y.reducer,F=c.a.lazy((function(){return n.e(0).then(n.bind(null,69))})),L=function(){var e=Object(s.c)((function(e){return e.rockets})),t=Object(s.b)();return Object(r.useEffect)((function(){0===e.length&&t(function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://api.spacexdata.com/v3/rockets");case 2:e.sent.data.forEach((function(e){t(S({id:e.rocket_id,title:e.rocket_name,description:e.description,image:e.flickr_images[0]}))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(p.jsx)(r.Suspense,{fallback:Object(p.jsx)("div",{children:"Loading..."}),children:Object(p.jsx)("div",{className:"rd-rows",children:e.map((function(e){var t=e.id,n=e.title,r=e.description,c=e.image,i=e.reserved,a=void 0!==i&&i;return Object(p.jsx)(F,{id:t,title:n,description:r,image:c,reserved:a,actions:{reserve:_,cancel:T}},t)}))})})},M=n(31),R=n(9),C="api/requested",E="dragons/request",I="dragons/load",N="dragon/:id/reserve",D="dragon/:id/unreserve",P=function(){return function(e,t){return t().dragons.lastFetched?t():e({type:C,payload:{url:"https://api.spacexdata.com/v3/dragons",onStart:E,onSuccess:I}})}},q=function(e){return{type:N,payload:{id:e}}},H=function(e){return{type:D,payload:{id:e}}},z={list:[],isLoading:!1,lastFetched:null},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===E?Object(R.a)(Object(R.a)({},e),{},{isLoading:!0}):n===I?Object(R.a)(Object(R.a)({},e),{},{lastFetched:Date.now(),isLoading:!1,list:r.map((function(e){return{id:e.id,title:e.name,type:e.type,imgSrc:Object(M.a)(e.flickr_images,1)[0],isReserved:!1}}))}):n===N?Object(R.a)(Object(R.a)({},e),{},{list:e.list.map((function(e){return e.id===r.id?Object(R.a)(Object(R.a)({},e),{},{isReserved:!0}):e}))}):n===D?Object(R.a)(Object(R.a)({},e),{},{list:e.list.map((function(e){return e.id===r.id?Object(R.a)(Object(R.a)({},e),{},{isReserved:!1}):e}))}):e},J=c.a.lazy((function(){return n.e(0).then(n.bind(null,69))})),U=function(){var e=Object(s.c)((function(e){return e.dragons})).list,t=Object(s.b)();return Object(r.useEffect)((function(){t(P())}),[]),Object(p.jsx)(r.Suspense,{fallback:Object(p.jsx)("div",{children:"Loading..."}),children:Object(p.jsx)("div",{className:"rd-rows",children:e.map((function(e){var t=e.id,n=e.title,r=e.type,c=e.isReserved,i=e.imgSrc;return Object(p.jsx)(J,{id:t,title:n,description:"Type: ".concat(r),image:i,reserved:c,actions:{reserve:q,cancel:H}},t)}))})})},A=function(){return Object(p.jsx)("p",{children:"missions"})},G=n(35),K=n.n(G),Q=n(36),V=n.n(Q),W=function(e){var t=e.columnTitle,n=e.reservedItems;return Object(p.jsxs)("div",{className:V.a["profile-column"],children:[Object(p.jsx)("h2",{children:t}),Object(p.jsx)("ul",{children:n.map((function(e){var t=e.title;return Object(p.jsx)("li",{children:t},t)}))})]})},X=function(){var e=Object(s.c)((function(e){return e.rockets})),t=Object(s.c)((function(e){return e.dragons})).list;return Object(p.jsxs)("div",{className:K.a.profiles,children:[Object(p.jsx)(W,{columnTitle:"My Rockets",reservedItems:e.filter((function(e){return!0===e.reserved}))}),Object(p.jsx)(W,{columnTitle:"My Dragons",reservedItems:t.filter((function(e){return!0===e.isReserved}))}),Object(p.jsx)(W,{columnTitle:"My Missions",reservedItems:e.filter((function(e){return!0===e.reserved}))})]})};n(66);var Y=function(){return Object(p.jsxs)(o.a,{basename:"/space-travelers-hub",children:[Object(p.jsx)(f,{}),Object(p.jsx)("main",{children:Object(p.jsxs)(d.c,{children:[Object(p.jsx)(d.a,{exact:!0,path:"/",children:Object(p.jsx)(L,{})}),Object(p.jsx)(d.a,{path:"/dragons",children:Object(p.jsx)(U,{})}),Object(p.jsx)(d.a,{path:"/missions",children:Object(p.jsx)(A,{})}),Object(p.jsx)(d.a,{path:"/profile",children:Object(p.jsx)(X,{})})]})})]})},Z=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,70)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))},$=n(10),ee=Object($.b)({dragons:B,rockets:w}),te=function(e){var t=e.dispatch;return function(e){return function(){var n=Object(O.a)(h.a.mark((function n(r){var c,i,a,s,o,d,u,l,j,p;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.type===C){n.next=2;break}return n.abrupt("return",e(r));case 2:return e(r),c=r.payload,i=c.url,a=c.method,s=void 0===a?"GET":a,o=c.body,d=c.onStart,u=c.onSuccess,l=c.onError,d&&t({type:d}),n.prev=5,n.next=8,fetch(i,{method:s,body:o,headers:{"Content-type":"application/json; charset=UTF-8"}});case 8:return j=n.sent,n.next=11,j.json();case 11:p=n.sent,t({type:"api/success"}),u&&t({type:u,payload:p}),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(5),t({type:"api/fail"}),l&&t({type:l,payload:n.t0});case 20:return n.abrupt("return",null);case 21:case"end":return n.stop()}}),n,null,[[5,16]])})));return function(e){return n.apply(this,arguments)}}()}},ne=Object(m.a)({reducer:ee,middleware:function(e){return e().concat(te)}});a.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(s.a,{store:ne,children:Object(p.jsx)(Y,{})})}),document.getElementById("root")),Z()}},[[67,2,3]]]);
//# sourceMappingURL=main.c6a1272d.chunk.js.map